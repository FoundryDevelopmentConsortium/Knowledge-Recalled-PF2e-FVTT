name: SonarCloud
on:
   push:
      branches:
         - main
   pull_request:
      types: [opened, synchronize, reopened]
jobs:
   sonarcloud:
      name: SonarCloud
      runs-on: ubuntu-latest
      steps:
         - uses: actions/checkout@v2
           with:
              fetch-depth: 0
              sonar.organization: alecholloway
              sonar.projectKey: AlecHolloway_fvtt-knowledge-recalled-pf2e
         - name: SonarCloud Scan
           uses: SonarSource/sonarcloud-github-action@master
           env:
              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
              SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}